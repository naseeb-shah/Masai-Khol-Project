<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        font-style: oblique;
    }
    .main{
        margin :4%;
        background-color: aliceblue;
        width: 40%;
        border-radius: 5px;
        border: 2px yellow ridge;
    }
    .main>.head{
        margin-top: 0;
      border-radius: 5px;
        background-color:gray;
    }
 .women,  .men ,.t{
       width: max-content;
       font-size: 25px;
        font-weight: 600;
        font-style: oblique;
    }
    .num{
        font-weight: 600;
        font-size: 25px;
         width: 10%;
        text-align: right;
        margin-right: 10px;
    }
    .inside{
       margin: 0;
       width: 100%;
       padding: 5px;
        display: flex;
    }
    .sai{
        font-size: 30px;
        width: 60%;
        height: 40px;
    margin: 5%;
        color: white;
        background-color: green;
    }
    #big{
        display: flex;
    }
    #items {

        width: 90%;
        margin: 5%;
       display: grid;
       grid-template-columns: repeat(4,1fr);
    }
    #item{

width: 90%;
margin: 5%;
border-radius: 25px;

font-style: oblique;
}
    #r>button{
        margin-left: 25%;
        width: 40%;
        background-color: azure;
        color: black;
        font-size: 35px;
       

      
    }
    .add{
        margin-left: 20%;
        width: 50%;
       font-weight: 600;
       color: rgb(32,128,51);
     position: fixed;
     border: green 2px solid;
     background-color:rgb(97, 160, 174);
        
    }
    
    .add>label{
        margin: 10%;
        text-align: center;
    }

</style>
<body>
    <div id="item"></div>
    <div id="big">
    
    
    </div>
</div>
<div id="items">
    
</div>
<div id="r"></div>
<script> 

var usercollection=JSON.parse(localStorage.getItem('usercollection'))
var data=JSON.parse(localStorage.getItem('cardata'))
var men=0;
var women=0;
data.forEach((x)=>{
    if(x.price>20000){
        men++
    }else{
        women++
    }
})
var div=document.createElement("div")
div.className='main'
div.innerHTML=`        <H1 class="head">ITEMS DETEILS</H1>
        <div class="inside">
            <p class="t"> Total items :</p> <p class="num">${data.length}</p>
        </div>
        <div class="inside">
            <p class="men"> Mens items :</p> <p class="num">${men}</p>
        </div>
        <div class="inside">
            <p class="women"> Women items :</p> <p class="num">${women}</p>
        </div>
        
        <div class="inside">
        <button  class="sai" onclick="add()">Add items</button>
        <button  class="sai" onclick="SHOW()">Show items</button>
    </div>`
    document.getElementById('big').append(div)
    
        var div=document.createElement('div')
        div.className='main'
        div.innerHTML= `<H1 class="head">USER DETEILS</H1>
        <div class="inside">
            <p class="t"> Total USER :</p> <p class="num">${usercollection.length}</p>
        </div>
        
        `
    document.getElementById('big').append(div)
function add(){
    var div=document.createElement('div')
    div.className='add'
    div.innerHTML=`
    <h1 style='text-align:center'>Add item<h1/>
    <label> Product image link</label>
    <input type="link" name="" id="link">
    <br/>
    <label> Name</label>
    <input type="link" name="" id="name">
    <br/>
    <label> Price</label>
   
    <input type="link" name="" id="price">
    <br>
    <label>For</label>
    <select name="" id="cat"> 
        <option value="mem">
            men
        </option>
        <option value="wome">
            Women
        </option>
        
    </select>
    <button onclick="ad()">Add </button>
    <button onclick="y()">Cancal </button>`
    document.getElementById('item').append(div)
}

 function ad(){
   var item={ image_url: document.getElementById('link').value,
name: document.getElementById('name').value,
price: document.getElementById('price').value,
rating: document.getElementById('cat').value,
 }
 data.push(item)
 localStorage.setItem('cardata',JSON.stringify(data))
 console.log(item)
 alert("added")
 }
function y(){
    window.location.reload()
}





var sum=0
function SHOW(){
    
    sum=0
    item=0
    data.forEach(function (e, i) {
        sum+=e.price
        item++
    var div = document.createElement('div')
    div.className = 'none'
    var img = document.createElement('img')
    img.src = e.image_url

    var name = document.createElement('label')
    name.innerText = e.name
    var p = document.createElement('p')
    p.innerText = e.rating

    var price = document.createElement('p')
    price.innerText = e.price
    var b = document.createElement('button')
    b.innerText = "Remove"
    b.addEventListener('click', function () {

      data.splice(i,1)
      localStorage.setItem('cardata', JSON.stringify(data))
  
    })



    div.append(img, name, price, p, b)
    document.getElementById('items').append(div)
})
var hide=document.createElement('button')
hide.innerText='HIDE'
hide.addEventListener('click',function(){
    var shah=document.querySelectorAll('.none')
    shah.forEach(x=>{
        x.remove();
        hide.remove()
    })
    
})
document.getElementById('r').append(hide)
  

}
</script>
</body>
</html>